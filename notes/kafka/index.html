<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width">
    <title>Apache Kafka notes - iv goes technical
    </title>
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/hljs.css">
  </head>
  <body>
    <header>
      <p><span class="logo"><a href="http://iv-m.github.io">iv goes technical</a></span>&nbsp;&#9899;&nbsp;<a href="/">home</a>&nbsp;&#9899;&nbsp;<a href="/about.html">about</a>&nbsp;&#9899;&nbsp;<a href="/notes">pale of notes</a>&nbsp;&#9899;&nbsp;<a href="/archive.html">articles by date</a></p>
    </header>
    <div id="content">
      <div class="content-wrap">
        <h1>Apache Kafka notes</h1>
        <div class="content"><p><div class="table-of-contents"><ul><li><a href="#getting-started">Getting&nbsp;started</a></li><li><a href="#deployment-considerations">Deployment considerations</a><ul><li><a href="#kafka-and-zookeeper">Kafka and&nbsp;Zookeeper</a></li><li><a href="#offsets-replication-factor">Offsets replication&nbsp;factor</a></li></ul></li><li><a href="#monitoring-and-management-uis">Monitoring and management&nbsp;UIs</a></li><li><a href="#random-links">Random&nbsp;links</a></li></ul></div></p>
<h2 id="getting-started">Getting started <a class="header-anchor" href="#getting-started" aria-hidden="true">¶</a></h2>
<p><a href="http://kafka.apache.org/documentation/">Documentation</a> is really awesome, <a href="http://kafka.apache.org/quickstart">quckstart</a>&nbsp;works.</p>
<p><strong>Advice</strong>: don’t use root ZooKeeper path: <code>--zookeeper localhost:2181/kafka</code> works.</p>
<p><span class="caps">TBD</span>: what if we have ZK cluster? Probably the syntax is
<code>--zookeeper localhost:2181,localhost:2182/kafka</code>
(path is mentioned only once, at the very&nbsp;end).</p>
<h2 id="deployment-considerations">Deployment considerations <a class="header-anchor" href="#deployment-considerations" aria-hidden="true">¶</a></h2>
<h3 id="kafka-and-zookeeper">Kafka and Zookeeper <a class="header-anchor" href="#kafka-and-zookeeper" aria-hidden="true">¶</a></h3>
<p><a href="TBD">Netflix says scary things</a> — like, kafka cluster is not really good
in surviving <span class="caps">ZK</span> ensemble break down. They deploy ZK cluster per kafka&nbsp;cluster.</p>
<h3 id="offsets-replication-factor">Offsets replication factor <a class="header-anchor" href="#offsets-replication-factor" aria-hidden="true">¶</a></h3>
<p>You should increase replication factor of <code>__consumer_offsets</code>
topic to at least 3. For&nbsp;example:</p>
<pre><code>offsets.topic.replication.factor=3
</code></pre>
<p>If we do, we need to make sure that when this topic
is created (e.g. when the first consumer is connected)
we have 3 alive brokers. Otherwise, we may need to
manually increase the replication factor for this&nbsp;topic.</p>
<h2 id="monitoring-and-management-uis">Monitoring and management UIs <a class="header-anchor" href="#monitoring-and-management-uis" aria-hidden="true">¶</a></h2>
<p>Offsets/consumers:</p>
<ul>
<li><a href="https://github.com/quantifind/KafkaOffsetMonitor">https://github.com/quantifind/KafkaOffsetMonitor</a></li>
<li><a href="https://github.com/linkedin/Burrow">https://github.com/linkedin/Burrow</a></li>
</ul>
<p>Management:</p>
<ul>
<li><a href="http://www.landoop.com/blog/2016/08/kafka-topics-ui/">http://www.landoop.com/blog/2016/08/kafka-topics-ui/</a></li>
<li><a href="https://github.com/yahoo/kafka-manager">https://github.com/yahoo/kafka-manager</a></li>
</ul>
<p>The Kafka <span class="caps">REST</span> Proxy can also be&nbsp;used.</p>
<h2 id="random-links">Random links <a class="header-anchor" href="#random-links" aria-hidden="true">¶</a></h2>
<ul>
<li><a href="http://research.microsoft.com/en-us/um/people/srikanth/netdb11/netdb11papers/netdb11-final12.pdf">http://research.microsoft.com/en-us/um/people/srikanth/netdb11/netdb11papers/netdb11-final12.pdf</a></li>
<li><a href="https://github.com/vasilievip/jeeconf-kafka-camel-boot">https://github.com/vasilievip/jeeconf-kafka-camel-boot</a></li>
<li><a href="http://docs.spring.io/spring-kafka">http://docs.spring.io/spring-kafka</a></li>
<li><a href="http://techblog.netflix.com/2016/04/kafka-inside-keystone-pipeline.html">http://techblog.netflix.com/2016/04/kafka-inside-keystone-pipeline.html</a></li>
<li><a href="http://docs.oracle.com/javase/8/docs/technotes/guides/security/crypto/CryptoSpec.html">http://docs.oracle.com/javase/8/docs/technotes/guides/security/crypto/CryptoSpec.html</a></li>
<li><a href="https://github.com/gerritjvv/kafka-fast">https://github.com/gerritjvv/kafka-fast</a></li>
</ul>
</div>
      </div>
    </div>
    <footer>
      <div class="content-wrap">
        <div class="about"><p>Ivan A. Melnikov (AKA iv AKA iv-m) is a software engineer living in
Saratov, Russia. One lonely winter evening he started this mess
of a site because it seemed like a good idea.</p>

        </div>
        <div class="last-update">
          <p>
            Last updated 2017-01-18 19:09:09 +0400.
            Build from&nbsp;<a href="https://github.com/iv-m/iv-m.github.io/blob/src/contents/notes/kafka/index.md">notes/kafka/index.md</a>.
          </p>
        </div>
        <div class="copy">
          <p>&copy; 2016-2017 Ivan A. Melnikov &mdash; powered by&nbsp;<a href="https://github.com/jnordberg/wintersmith">Wintersmith</a>  &mdash;&nbsp;<a href="https://github.com/iv-m/iv-m.github.io/tree/src">source on github</a></p>
        </div>
      </div>
    </footer>
  </body>
</html>